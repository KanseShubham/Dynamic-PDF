<template>

    <!-- Top Buttons -->
    <div class="slds-m-bottom_small">
        <lightning-button
            label="Generate PDF"
            onclick={openModal}>
        </lightning-button>

        <lightning-button
            class="slds-m-left_small"
            label="Send PDF to Customer"
            onclick={sendEmail}>
        </lightning-button>
    </div>

    <!-- Modal -->
    <template if:true={isOpen}>
        <section role="dialog" tabindex="-1"
                 class="slds-modal slds-fade-in-open">

            <div class="slds-modal__container">

                <!-- Header -->
                <header class="slds-modal__header">
                    <h2 class="slds-text-heading_medium">
                        Select Fields for PDF
                    </h2>
                </header>

                <!-- Body -->
                <div class="slds-modal__content slds-p-around_medium"
                     style="max-height:400px; overflow:auto;">

                    <template for:each={fields} for:item="f">
                        <lightning-input
                            key={f.api}
                            type="checkbox"
                            label={f.label}
                            value={f.api}
                            onchange={handleCheck}>
                        </lightning-input>
                    </template>

                </div>

                <!-- Footer -->
                <footer class="slds-modal__footer slds-grid slds-grid_align-end">
                    <lightning-button
                        class="slds-m-right_small"
                        label="Cancel"
                        onclick={closeModal}>
                    </lightning-button>

                    <lightning-button
                        variant="brand"
                        label="Done"
                        onclick={handleDone}>
                    </lightning-button>
                </footer>

            </div>
        </section>
</template>